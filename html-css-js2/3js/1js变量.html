<!DOCTYPE html>
<html lang="en">
    <head>
        <title>js变量学习</title>
        <meta charset="UTF-8"/>
        <!-- js在html中的两种声明方式，引用外部文件和内部自己写js代码 -->
        <!--
            js变量学习：
                1、js变量特点
                    变量声明只有var关键字，声明的变量可以存储任意类型的数据；
                    js中的同名变量，后面会覆盖前面的；
                    声明变量不赋值，默认是undefined。
                2、js的数据类型
                    基本数据类型：Number、String、Boolean、Null、 Undefined、Symbol（ES6），这些类型可以直接操作保存在变量中的实际值。
                    引用数据类型：Object（在JS中除了基本数据类型以外的都是对象，数据是对象，函数是对象，正则表达式是对象）。
                    基本数据类型是指存放在栈中的简单数据段，数据大小确定，内存空间大小可以分配，它们是直接按值存放的，所以可以直接按值访问。
                    堆是存储引用类型的地方，注意字符串是保存在堆中的，只有一多个变量共同引用了一个字符串(字符串的值相等)时，在堆中这个字符串才
                    会只保留一个。
                     JS 中的原始数据类型是不可变的。
                    使用typeof判断变量的数据类型：typeof(a)；
                    number：数值类型，小数或整数；
                    string：字符类型，可以作用单双引号；
                    boolean：布尔类型；
                    object：对象类型；
                3、js的变量强转
                    使用Number()函数：将其它数据类型转换为数值类型，若失败，返回NaN；
                    使用Boolean()函数：将其它数据类型转换为布尔类型，有值返回true，无值返回false；
                4、特殊的值
                    null object类型
                    undefined undefined类型
                    NaN undefined类型
                5、let、var、const的区别：
                    var：在哪声明都可以使用；
                    let：使用前必须声明，不能声明变量名相同的变量，需要use strict；
                        当我们知道某个变量的值将发生改变时才使用let，注意这个值指的是内存地址。
                    const：声明时必须赋值，且值不能修改，不能声明变量名相同的变量，注意这个值是指内存地址。
         -->
        <script type="text/javascript">
            // js变量
            var a = 123;
            a = 3.14;
            a = "js"; // 字符串单双引号都可以
            a = 'k';
            a = true;
            a = new Date();
            a = new String("123");
            a = new Number(5);

            //js的数据类型：number(不分小数和整数)、string(单双引号都可)、boolean、object、null(是空对象，和undefined进行区分)、undefined(变量声明不赋值时)。可以使用typeof查看数据类型。
            var b; // b此时是null，typeof(c)是undefined，声明不赋值，默认是undefined；未定义，因为没有声明c变量

            // 类型强转
            var c = "123";
            alert(typeof (Number(c))); //其它强转类似，如果不能转化为数字，会成NaN

            /**
             * 测试基本数据类型是不可变的，例如，对一个数字加1，则变量指向的是新地址，而不是将原来地址上的值加了1。
             */
            function testBasicTypeNotChange() {
                var a = 1;
                var b = 1;
                console.log("比较a = 1和b = 1的地址是否一样");
                console.log("a === b：" + (a === b) + "，证明对于基本数据类型，如果值一样，则在栈(基本类型在栈中分配)中的地址一样。")
                var b = b + 1;
                console.log("改变b的值(b += 1)为" + b);
                console.log("查看a=" + a + "(a的值未改变),查看a和b的地址是否一致=" + (a === b));
                console.log("证明基本类型如果有一个新值，会重新在栈中分配一个地址给这个新值，而不是将原来地址的值变为新值。");
            }
        </script>
    </head>
    <body>
    <ul>
        <li><input type="button" onclick="testBasicTypeNotChange();" value="测试基本数据类型是不可变的"></li>
    </ul>
    </body>
</html>

















